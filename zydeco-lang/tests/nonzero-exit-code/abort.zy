codata Fn A : VType where
  | .app(A): Fn A
  | .return(): F(A)
end

do x <- ( rec (abort: U(Int -> Fn Int)) ->
    fn (x: Int) ->
      comatch
      | .app(_) -> ! abort x
      | .return() -> ret x
      end
  ) 0 .app(1) .app(2) .app(3) .return();
! exit x

