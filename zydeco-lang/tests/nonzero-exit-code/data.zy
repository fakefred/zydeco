data Boolean where
  | True()
  | False()
codata And where
  .then_(): Ret(Bool)
  .else_(): Ret(Bool)
let v = True();
do b <- (match v
  | True -> (
    (comatch
      | .then_ -> ret true
      | .else_ -> ret false).then_()
  )
  | False -> ret false);
if b: ! exit 0 else: ! exit 1
